{% extends 'base.html' %}
{% block title %} Join! {% endblock %}
{% block body %}
<br>
<div class="container" style="padding-bottom: 10px;">
    <h1>
        Join or Create a Room
        <div class="chat-form">
            <form method="POST">
                <input required="True" type="text" name="roomname" id=roombox placeholder="Room name...">
                <button>-></button>
            </form>
        </div>
    </h1>
    <div>
        <br>
        <p>Just type in the room name you want to join. If it exists, you'll enter the chat, and if it doesn't, a new room will be created!!</p>
        <p>Remember, your username will be your <span style="color:#f1ff6e"><b>IPV4 Address</b> ({{ _ip }})</span> only! This is to prevent <a style="color:#00ffff" href="https://www.techtarget.com/whatis/definition/catfish">Catfishing</a>.</p>
        <p>No rooms for you? Text with <a href="/bot">Ecstacy</a> bot!</p>
        <p>Yea okay thats it :)</p>        
    </div>
    <hr>
    <h2>All active rooms:</h2>
    <div class="chat-form">
        <input type="text" class="live-search-box" placeholder="search for rooms here..." />
    </div>
    <br><hr><br>
    <div class="rooms">
            <p>
                <ul id="rm-list" class="live-search-list" type="None">
                    {% for room in active_rooms %}
                    <li><a href="/room/{{ room }}"># {{ room }}</a></li>
                    {% endfor %}
                </ul>
            </p>
    </div>
</div>

<script type="text/javascript">
    jQuery(document).ready(function($){
  
$('.live-search-list li').each(function(){
$(this).attr('data-search-term', $(this).text().toLowerCase());
});
  
$('.live-search-box').on('keyup', function(){
  
var searchTerm = $(this).val().toLowerCase();
  
    $('.live-search-list li').each(function(){
  
        if ($(this).filter('[data-search-term *= ' + searchTerm + ']').length > 0 || searchTerm.length < 1) {
            $(this).show();
        } else {
            $(this).hide();
        }
        $('rm-list').hide();
  
    });
  
});
  
});
</script>

<script>
    window.onload = function() {
        var input = document.getElementById("roombox").focus();
}
</script>

{% endblock %}

